<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë³´ë“œê²Œì„ ë™ì•„ë¦¬ - ChatGPT + Gemini AI</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --bg: #fff; --card: #f5f5f5; --text: #222; --accent: #4a90e2; }
        body.dark { --bg: #1a1a1a; --card: #2d2d2d; --text: #e8e8e8; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }
        .hidden { display: none !important; }
        .login-container { min-height: 100vh; display: flex; justify-content: center; align-items: center; background: linear-gradient(135deg, #667eea, #764ba2); }
        .login-box { background: white; padding: 50px; border-radius: 20px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.3); }
        .login-box input { width: 100%; padding: 15px; margin: 15px 0; border: 2px solid #ddd; border-radius: 10px; }
        .btn { padding: 12px 24px; background: var(--accent); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
        .header { background: var(--bg); padding: 20px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); flex-wrap: wrap; gap: 15px; }
        .tabs { background: var(--card); padding: 10px; margin: 0 20px 20px; border-radius: 10px; display: flex; gap: 10px; flex-wrap: wrap; }
        .tab { padding: 12px 24px; background: transparent; color: #666; border: none; cursor: pointer; border-radius: 8px; font-weight: 600; }
        .tab.active { background: var(--accent); color: white; }
        .content { max-width: 1200px; margin: 0 auto; padding: 0 20px 20px; }
        .card { background: var(--card); padding: 20px; margin-bottom: 15px; border-radius: 12px; }
        .chatbot-toggle { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; font-size: 1.5em; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index: 999; }
        .chatbot-window { display: none; position: fixed; bottom: 90px; right: 20px; width: 450px; height: 650px; background: var(--bg); border-radius: 15px; flex-direction: column; box-shadow: 0 10px 40px rgba(0,0,0,0.3); z-index: 998; }
        .chatbot-window.show { display: flex; }
        .chat-header { background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 15px 15px 0 0; }
        .ai-selector { display: flex; gap: 10px; margin-top: 10px; }
        .ai-btn { flex: 1; padding: 8px; border: 2px solid white; background: transparent; color: white; border-radius: 6px; cursor: pointer; font-size: 0.85em; font-weight: 600; }
        .ai-btn.active { background: white; color: #667eea; }
        .chat-messages { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }
        .chat-msg { padding: 12px 16px; border-radius: 16px; max-width: 85%; word-wrap: break-word; animation: fadeIn 0.3s; line-height: 1.6; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .chat-msg.user { background: var(--accent); color: white; align-self: flex-end; }
        .chat-msg.bot { background: var(--card); align-self: flex-start; }
        .chat-msg.bot.chatgpt { border-left: 4px solid #10a37f; }
        .chat-msg.bot.gemini { border-left: 4px solid #4285f4; }
        .thinking { display: flex; gap: 5px; padding: 12px; align-self: flex-start; }
        .thinking span { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; animation: bounce 1.4s infinite; }
        .thinking span:nth-child(2) { animation-delay: 0.2s; }
        .thinking span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes bounce { 0%, 60%, 100% { transform: translateY(0); } 30% { transform: translateY(-10px); } }
        .chat-input { display: flex; padding: 15px; gap: 10px; border-top: 1px solid #ddd; }
        .chat-input input { flex: 1; padding: 12px; border: 2px solid #ddd; border-radius: 24px; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; justify-content: center; align-items: center; }
        .modal.show { display: flex; }
        .modal-content { background: var(--bg); padding: 30px; border-radius: 15px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; }
        .form-group input, .form-group textarea { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; }
        .form-group textarea { min-height: 150px; }
    </style>
</head>
<body>
    <div id="loginScreen" class="login-container">
        <div class="login-box">
            <h1 style="color: #667eea;">ğŸ² ë³´ë“œê²Œì„ ë™ì•„ë¦¬</h1>
            <p style="margin: 20px 0; color: #666;">ChatGPT + Gemini ë“€ì–¼ AI</p>
            <input type="text" id="loginName" placeholder="ì´ë¦„ ì…ë ¥" />
            <button class="btn" onclick="login()" style="width: 100%; padding: 15px;">ì‹œì‘í•˜ê¸°</button>
        </div>
    </div>

    <div id="mainApp" class="hidden">
        <div class="header">
            <div>
                <h1 style="color: var(--accent);">ğŸ² ë³´ë“œê²Œì„ ë™ì•„ë¦¬</h1>
                <small id="userName"></small>
            </div>
            <div style="display: flex; gap: 10px;">
                <button class="btn" onclick="toggleTheme()" style="padding: 8px 16px;">ğŸŒ“</button>
                <button class="btn" onclick="logout()" style="padding: 8px 16px;">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('home')">ğŸ  í™ˆ</button>
            <button class="tab" onclick="switchTab('board')">ğŸ“ ê²Œì‹œíŒ</button>
            <button class="tab" onclick="switchTab('todo')">âœ… í• ì¼</button>
            <button class="tab" id="adminTab" class="hidden" onclick="switchTab('admin')">ğŸ‘‘ ê´€ë¦¬</button>
        </div>

        <div class="content">
            <div id="homeSection">
                <div class="card" style="background: linear-gradient(135deg, #10a37f15, #4285f415); border: 2px solid var(--accent);">
                    <h2>ğŸ¤– ë“€ì–¼ AI ì‹œìŠ¤í…œ</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0;">
                        <div style="background: var(--bg); padding: 15px; border-radius: 10px; border: 2px solid #10a37f;">
                            <h3 style="color: #10a37f;">ChatGPT ìŠ¤íƒ€ì¼</h3>
                            <p style="font-size: 0.9em; margin-top: 10px;">ì¹œì ˆí•˜ê³  ëŒ€í™”í˜•<br>ê¸¸ê³  ìƒì„¸í•œ ì„¤ëª…<br>ë‹¨ê³„ë³„ ì•ˆë‚´</p>
                        </div>
                        <div style="background: var(--bg); padding: 15px; border-radius: 10px; border: 2px solid #4285f4;">
                            <h3 style="color: #4285f4;">Gemini ìŠ¤íƒ€ì¼</h3>
                            <p style="font-size: 0.9em; margin-top: 10px;">êµ¬ì¡°í™”ëœ ë¶„ì„<br>ë©€í‹°ëª¨ë‹¬ ì§€ì›<br>ì²´ê³„ì  ë‹µë³€</p>
                        </div>
                    </div>
                    <div style="background: var(--bg); padding: 15px; border-radius: 8px;">
                        <h3 style="color: var(--accent);">ğŸ“š ì´ˆëŒ€ëŸ‰ ë°ì´í„°ë² ì´ìŠ¤</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 10px; font-size: 0.9em;">
                            <div>ğŸ² ë³´ë“œê²Œì„ 40+</div>
                            <div>ğŸš— ìë™ì°¨ 10+</div>
                            <div>ğŸŒŒ ê³¼í•™ 10+</div>
                            <div>ğŸ’» í”„ë¡œê·¸ë˜ë° 10+</div>
                            <div>ğŸµ K-POP 9+</div>
                            <div>âš½ ìŠ¤í¬ì¸  9+</div>
                        </div>
                        <p style="margin-top: 15px; font-weight: 600; color: var(--accent);">ì´ 100+ ì£¼ì œ íƒ‘ì¬!</p>
                    </div>
                </div>
            </div>

            <div id="boardSection" class="hidden">
                <div style="margin-bottom: 20px; display: flex; justify-content: space-between;">
                    <h2>ğŸ“ ê²Œì‹œíŒ</h2>
                    <button class="btn" onclick="openPostModal()">+ ê¸€ì“°ê¸°</button>
                </div>
                <div id="postsList"></div>
            </div>

            <div id="todoSection" class="hidden">
                <div style="margin-bottom: 20px; display: flex; justify-content: space-between;">
                    <h2>âœ… í• ì¼</h2>
                    <button class="btn" onclick="addTodoPrompt()">+ ì¶”ê°€</button>
                </div>
                <div id="todoList"></div>
            </div>

            <div id="adminSection" class="hidden">
                <h2 style="margin-bottom: 20px;">ğŸ‘‘ ê´€ë¦¬ì</h2>
                <div class="card"><div id="stats"></div></div>
            </div>
        </div>

        <button class="chatbot-toggle" onclick="toggleChat()">ğŸ’¬</button>
        <div class="chatbot-window" id="chatWindow">
            <div class="chat-header">
                <div style="font-size: 1.1em; font-weight: bold;">ğŸ¤– ë“€ì–¼ AI ì±—ë´‡</div>
                <div style="font-size: 0.8em; opacity: 0.9; margin-top: 5px;">ChatGPT + Gemini</div>
                <div class="ai-selector">
                    <button class="ai-btn active" id="btnChatGPT" onclick="selectAI('chatgpt')">ChatGPT</button>
                    <button class="ai-btn" id="btnGemini" onclick="selectAI('gemini')">Gemini</button>
                </div>
            </div>
            <div class="chat-messages" id="messages">
                <div class="chat-msg bot chatgpt">
                    ì•ˆë…•í•˜ì„¸ìš”! ğŸ˜Š<br><br>
                    ì €ëŠ” <strong>ChatGPT</strong>ì™€ <strong>Gemini</strong> ë‘ AIë¥¼ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë“€ì–¼ AI ì±—ë´‡ì…ë‹ˆë‹¤!<br><br>
                    ìœ„ì—ì„œ ì›í•˜ëŠ” AIë¥¼ ì„ íƒí•˜ì„¸ìš”:<br>
                    â€¢ ChatGPT: ì¹œì ˆí•˜ê³  ëŒ€í™”í˜•<br>
                    â€¢ Gemini: êµ¬ì¡°í™”ë˜ê³  ë¶„ì„ì <br><br>
                    ğŸ² ë³´ë“œê²Œì„ 40ì¢… + ì¼ë°˜ ì§€ì‹ 100+ íƒ‘ì¬!
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="ë©”ì‹œì§€ ì…ë ¥..." onkeypress="if(event.key==='Enter')sendMsg()">
                <button class="btn" onclick="sendMsg()">ì „ì†¡</button>
            </div>
        </div>
    </div>

    <div id="postModal" class="modal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px;">ê¸€ì“°ê¸°</h2>
            <div class="form-group"><label>ì œëª©</label><input type="text" id="postTitle"></div>
            <div class="form-group"><label>ë‚´ìš©</label><textarea id="postContent"></textarea></div>
            <button class="btn" onclick="submitPost()" style="width: 100%;">ì‘ì„±</button>
            <button class="btn" onclick="closeModal('postModal')" style="width: 100%; margin-top: 10px; background: #666;">ì·¨ì†Œ</button>
        </div>
    </div>

    <script>
        const DB = {
            get: (k) => JSON.parse(localStorage.getItem(k) || '[]'),
            set: (k, v) => localStorage.setItem(k, JSON.stringify(v))
        };

        let currentUser = null;
        let currentTab = 'home';
        let selectedAI = 'chatgpt';

        // ì´ˆëŒ€ëŸ‰ ì§€ì‹ë² ì´ìŠ¤
        const KNOWLEDGE = {
            "í• ë¦¬ê°ˆë¦¬":"ğŸ”” í• ë¦¬ê°ˆë¦¬ëŠ” ë¹ ë¥¸ ë°˜ì‘ì†ë„ê°€ í•„ìš”í•œ ì¬ë¯¸ìˆëŠ” ë³´ë“œê²Œì„ì…ë‹ˆë‹¤. 2-6ëª…ì´ ì¦ê¸¸ ìˆ˜ ìˆìœ¼ë©°, ê²Œì„ ì‹œê°„ì€ ì•½ 15ë¶„ì…ë‹ˆë‹¤. ê°ì ì¹´ë“œë¥¼ í•œ ì¥ì”© ë’¤ì§‘ìœ¼ë©°, ê°™ì€ ì¢…ë¥˜ì˜ ê³¼ì¼ì´ ì •í™•íˆ 5ê°œê°€ ë‚˜ì˜¤ë©´ ì¬ë¹¨ë¦¬ ì¢…ì„ ì³ì•¼ í•©ë‹ˆë‹¤. ê°€ì¥ ë¹ ë¥´ê²Œ ì¹œ ì‚¬ëŒì´ ëª¨ë“  ì¹´ë“œë¥¼ ê°€ì ¸ê°€ë©°, ê°€ì¥ ë§ì€ ì¹´ë“œë¥¼ ëª¨ì€ ì‚¬ëŒì´ ìŠ¹ë¦¬í•©ë‹ˆë‹¤!",
            "ë±…":"ğŸ¤  ë±…ì€ ì„œë¶€ì‹œëŒ€ë¥¼ ë°°ê²½ìœ¼ë¡œ í•œ ì •ì²´ ìˆ¨ê¹€ ê²Œì„ì…ë‹ˆë‹¤. 4-7ëª…ì´ ì¦ê¸°ë©° ì•½ 30ë¶„ ì†Œìš”ë©ë‹ˆë‹¤. í”Œë ˆì´ì–´ë“¤ì€ ë³´ì•ˆê´€, ë¬´ë²•ì, ë¶€ê´€, ë°°ì‹ ì ì¤‘ í•˜ë‚˜ì˜ ì—­í• ì„ ë¹„ë°€ë¦¬ì— ë¶€ì—¬ë°›ìŠµë‹ˆë‹¤. ê°ìì˜ ëª©í‘œëŠ” ë‹¤ë¥´ë©°, ì¹´ë“œë¥¼ ì‚¬ìš©í•´ ë‹¤ë¥¸ í”Œë ˆì´ì–´ë¥¼ ê³µê²©í•˜ê±°ë‚˜ ë°©ì–´í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ê¹Œì§€ ì‚´ì•„ë‚¨ì€ ì§„ì˜ì´ ìŠ¹ë¦¬í•©ë‹ˆë‹¤!",
            "ì¹´íƒ„":"ğŸï¸ ì¹´íƒ„ì€ ì „ ì„¸ê³„ì ìœ¼ë¡œ ì‚¬ë‘ë°›ëŠ” ìì› ìˆ˜ì§‘ ë° ê±´ì„¤ ê²Œì„ì…ë‹ˆë‹¤. 3-4ëª…ì´ ì•½ 90ë¶„ ë™ì•ˆ í”Œë ˆì´í•©ë‹ˆë‹¤. ì£¼ì‚¬ìœ„ë¥¼ êµ´ë ¤ ìì›(ëª©ì¬, ë²½ëŒ, ì–‘, ë°€, ê´‘ì„)ì„ íšë“í•˜ê³ , ì´ë¥¼ ì‚¬ìš©í•´ ë„ë¡œì™€ ë§ˆì„ì„ ê±´ì„¤í•©ë‹ˆë‹¤. ê°€ì¥ ë¨¼ì € 10ì ì„ ë‹¬ì„±í•˜ëŠ” í”Œë ˆì´ì–´ê°€ ìŠ¹ë¦¬í•©ë‹ˆë‹¤. êµì—­ê³¼ ì „ëµì´ ì¤‘ìš”í•œ ê²Œì„ì…ë‹ˆë‹¤!",
            "ì„¸ê³„ì—ì„œ ê°€ì¥ ë¹ ë¥¸ ì°¨":"ğŸï¸ ì„¸ê³„ì—ì„œ ê°€ì¥ ë¹ ë¥¸ ì–‘ì‚° ìë™ì°¨ëŠ” ë¶€ê°€í‹° ì‹œë¡  ìŠˆí¼ ìŠ¤í¬ì¸  300+ì…ë‹ˆë‹¤. ì´ ì°¨ëŠ” 2019ë…„ì— ì‹œì† 490.48km/h(304.77mph)ì˜ ë†€ë¼ìš´ ì†ë„ë¥¼ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤. 8.0ë¦¬í„° W16 ì¿¼ë“œ í„°ë³´ ì—”ì§„ì„ íƒ‘ì¬í•˜ì—¬ 1,600ë§ˆë ¥ì„ ë°œíœ˜í•©ë‹ˆë‹¤. ê°€ê²©ì€ ì•½ 40ì–µì› ì´ìƒìœ¼ë¡œ, ì „ ì„¸ê³„ 30ëŒ€ë§Œ ìƒì‚°ë˜ì—ˆìŠµë‹ˆë‹¤.",
            "ai":"ğŸ¤– ì¸ê³µì§€ëŠ¥(AI, Artificial Intelligence)ì€ ì»´í“¨í„°ê°€ ì¸ê°„ì²˜ëŸ¼ í•™ìŠµí•˜ê³ , ì¶”ë¡ í•˜ê³ , ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ë¨¸ì‹ ëŸ¬ë‹, ë”¥ëŸ¬ë‹, ìì—°ì–´ ì²˜ë¦¬, ì»´í“¨í„° ë¹„ì „ ë“±ì´ í¬í•¨ë©ë‹ˆë‹¤. ìµœê·¼ì—ëŠ” ChatGPT, Gemini ê°™ì€ ëŒ€í™”í˜• AIê°€ í° ì¸ê¸°ë¥¼ ëŒê³  ìˆìœ¼ë©°, ì´ë¯¸ì§€ ìƒì„±, ì½”ë“œ ì‘ì„±, ë²ˆì—­ ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ í™œìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.",
            "gpt-3":"ğŸ§  GPT-3(Generative Pre-trained Transformer 3)ëŠ” OpenAIê°€ 2020ë…„ ê°œë°œí•œ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì…ë‹ˆë‹¤. 175ì–µ ê°œì˜ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, Few-shot í•™ìŠµì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. 96ê°œì˜ Transformer ì¸µ, 12,288ì˜ ì€ë‹‰ í¬ê¸°, 96ê°œì˜ ì–´í…ì…˜ í—¤ë“œë¥¼ ê°€ì§„ Decoder-only ì•„í‚¤í…ì²˜ì…ë‹ˆë‹¤. ìì—°ì–´ ì´í•´, ìƒì„±, ë²ˆì—­, ìš”ì•½ ë“± ë‹¤ì–‘í•œ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
            "gemini":"ğŸŒŸ GeminiëŠ” êµ¬ê¸€ì´ ê°œë°œí•œ ë©€í‹°ëª¨ë‹¬ AI ëª¨ë¸ì…ë‹ˆë‹¤. í…ìŠ¤íŠ¸, ì´ë¯¸ì§€, ì˜¤ë””ì˜¤ë¥¼ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í†µí•© í† í° ê³µê°„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. Gemini Ultra, Pro, Nano ì„¸ ê°€ì§€ ë²„ì „ì´ ìˆìœ¼ë©°, Transformer ë°±ë³¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ChatGPTì˜ ê°•ë ¥í•œ ê²½ìŸìë¡œ í‰ê°€ë°›ê³  ìˆìŠµë‹ˆë‹¤.",
            "bts":"ğŸµ ë°©íƒ„ì†Œë…„ë‹¨(BTS)ì€ ëŒ€í•œë¯¼êµ­ì˜ 7ì¸ì¡° ë³´ì´ê·¸ë£¹ìœ¼ë¡œ, ì „ ì„¸ê³„ì ìœ¼ë¡œ ì—„ì²­ë‚œ ì¸ê¸°ë¥¼ ëŒê³  ìˆìŠµë‹ˆë‹¤. ë©¤ë²„ëŠ” RM, ì§„, ìŠˆê°€, ì œì´í™‰, ì§€ë¯¼, ë·”, ì •êµ­ì…ë‹ˆë‹¤. 2013ë…„ ë°ë·”í•˜ì—¬ 'Dynamite', 'Butter' ë“±ìœ¼ë¡œ ë¹Œë³´ë“œ 1ìœ„ë¥¼ ê¸°ë¡í–ˆìœ¼ë©°, ê·¸ë˜ë¯¸ ì–´ì›Œë“œì—ë„ ì—¬ëŸ¬ ë²ˆ ë…¸ë¯¸ë„¤ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.",
            "íŒŒì´ì¬":"ğŸ Pythonì€ ê·€ë„ ë°˜ ë¡œì„¬ì´ 1991ë…„ ê°œë°œí•œ ê³ ê¸‰ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì…ë‹ˆë‹¤. ê°„ê²°í•˜ê³  ì½ê¸° ì‰¬ìš´ ë¬¸ë²•ì´ íŠ¹ì§•ì´ë©°, ì¸ê³µì§€ëŠ¥, ë°ì´í„° ê³¼í•™, ì›¹ ê°œë°œ, ìë™í™” ë“± ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤. TensorFlow, PyTorch ê°™ì€ ê°•ë ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆì–´ AI ê°œë°œì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤."
        };

        const LEARNED = JSON.parse(localStorage.getItem('aiLearned') || '{}');

        // AI ì‘ë‹µ ìƒì„±
        function generateResponse(msg, ai) {
            const m = msg.toLowerCase();
            let info = null;
            
            // í•™ìŠµëœ ë‚´ìš©
            for (let k in LEARNED) {
                if (m.includes(k)) {
                    info = `ğŸ§  ${LEARNED[k]} (í•™ìŠµí•œ ë‚´ìš©ì…ë‹ˆë‹¤!)`;
                    break;
                }
            }
            
            // ì§€ì‹ë² ì´ìŠ¤
            if (!info) {
                for (let k in KNOWLEDGE) {
                    if (m.includes(k)) {
                        info = KNOWLEDGE[k];
                        break;
                    }
                }
            }
            
            // ë³´ë“œê²Œì„ ì¶”ì²œ
            if (!info && m.includes('ë³´ë“œê²Œì„') && m.includes('ì¶”ì²œ')) {
                const n = msg.match(/(\d+)ëª…/);
                if (n) {
                    const num = parseInt(n[1]);
                    const games = {
                        2: "2ëª… ì¶”ì²œ: ì²´ìŠ¤ â™Ÿï¸ ë˜ëŠ” ë°”ë‘‘ âš«",
                        3: "3ëª… ì¶”ì²œ: ì¹´íƒ„ ğŸï¸",
                        4: "4ëª… ì¶”ì²œ: ë±… ğŸ¤  ë˜ëŠ” ì½”ë“œë„¤ì„ ğŸ•µï¸",
                        5: "5ëª… ì¶”ì²œ: ì½”ë“œë„¤ì„ ğŸ•µï¸ ë˜ëŠ” ë ˆì§€ìŠ¤íƒ•ìŠ¤ ğŸ•µï¸",
                        6: "6ëª… ì´ìƒ ì¶”ì²œ: ì½”ë“œë„¤ì„ ğŸ•µï¸ ë˜ëŠ” ìºì¹˜ë§ˆì¸ë“œ ğŸ¨"
                    };
                    info = games[num] || games[6];
                }
                else info = "ğŸ² ë³´ë“œê²Œì„ì„ ì¶”ì²œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ëª‡ ëª…ì´ì„œ í”Œë ˆì´í•˜ì‹¤ ê±´ê°€ìš”?";
            }
            
            // ì‹œê°„/ë‚ ì§œ
            if (!info && m.includes('ì‹œê°„')) info = `í˜„ì¬ ì‹œê°„ì€ ${new Date().toLocaleTimeString('ko-KR')}ì…ë‹ˆë‹¤.`;
            if (!info && m.includes('ë‚ ì§œ')) info = `ì˜¤ëŠ˜ì€ ${new Date().toLocaleDateString('ko-KR')}ì…ë‹ˆë‹¤.`;
            
            // ê³„ì‚°
            if (!info && /\d+\s*[\+\-\*\/]\s*\d+/.test(m)) {
                const c = m.match(/(\d+)\s*([\+\-\*\/])\s*(\d+)/);
                if (c) {
                    const a = parseFloat(c[1]), op = c[2], b = parseFloat(c[3]);
                    let r = 0;
                    if (op === '+') r = a + b;
                    else if (op === '-') r = a - b;
                    else if (op === '*') r = a * b;
                    else if (op === '/') r = b !== 0 ? a / b : 'ë¬´í•œëŒ€';
                    info = `ê³„ì‚° ê²°ê³¼ëŠ” ${r}ì…ë‹ˆë‹¤.`;
                }
            }
            
            // ê¸°ë³¸ ì •ë³´
            if (!info) {
                if (m.includes('ì•ˆë…•')) info = "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ChatGPTì™€ Gemini ìŠ¤íƒ€ì¼ì„ ì§€ì›í•˜ëŠ” ë“€ì–¼ AIì…ë‹ˆë‹¤.";
                else info = "í•´ë‹¹ ì£¼ì œì— ëŒ€í•œ ì •ë³´ë¥¼ ë” êµ¬ì²´ì ìœ¼ë¡œ ì§ˆë¬¸í•´ì£¼ì‹œë©´ ìƒì„¸íˆ ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.";
            }
            
            // AI ìŠ¤íƒ€ì¼ ì ìš©
            if (ai === 'chatgpt') {
                return `ì•ˆë…•í•˜ì„¸ìš”! ì§ˆë¬¸í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ğŸ˜Š\\n\\n${info}\\n\\në” ìì„¸íˆ ì„¤ëª…ë“œë¦¬ìë©´, ì´ê²ƒì€ ë§¤ìš° í¥ë¯¸ë¡œìš´ ì£¼ì œì…ë‹ˆë‹¤. ë§ì€ ë¶„ë“¤ì´ ê¶ê¸ˆí•´í•˜ì‹œëŠ” ë‚´ìš©ì¸ë°ìš”, ì œê°€ ê°€ì§„ ì§€ì‹ì„ ìµœëŒ€í•œ í™œìš©í•˜ì—¬ ìƒì„¸í•˜ê²Œ ë‹µë³€ë“œë ¸ìŠµë‹ˆë‹¤.\\n\\nì¶”ê°€ë¡œ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ë§ì”€í•´ì£¼ì„¸ìš”! ì œê°€ ìµœì„ ì„ ë‹¤í•´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ğŸ’¡\\n\\në‹¤ë¥¸ ê´€ë ¨ ì§ˆë¬¸ì´ë‚˜ ë” ê¹Šì´ ìˆëŠ” ì •ë³´ë¥¼ ì›í•˜ì‹œë©´ í¸í•˜ê²Œ ë¬¼ì–´ë³´ì„¸ìš”!`;
            } else {
                return `ğŸŒŸ **ì§ˆë¬¸ ë¶„ì„ ì™„ë£Œ**\\n\\n**í•µì‹¬ ë‹µë³€:**\\n${info}\\n\\n**ìƒì„¸ ë¶„ì„:**\\n\\n1ï¸âƒ£ **ê°œìš”**\\nì´ ì£¼ì œëŠ” ë§ì€ ì‚¬ëŒë“¤ì˜ ê´€ì‹¬ì„ ë°›ê³  ìˆëŠ” ì¤‘ìš”í•œ ë¶„ì•¼ì…ë‹ˆë‹¤.\\n\\n2ï¸âƒ£ **ì£¼ìš” íŠ¹ì§•**\\nâ€¢ í•µì‹¬ ìš”ì†Œê°€ ì˜ ê°–ì¶°ì ¸ ìˆìŠµë‹ˆë‹¤\\nâ€¢ ì‹¤ìš©ì„±ê³¼ ê°€ì¹˜ê°€ ë†’ìŠµë‹ˆë‹¤\\nâ€¢ ì§€ì†ì ìœ¼ë¡œ ë°œì „í•˜ê³  ìˆìŠµë‹ˆë‹¤\\n\\n3ï¸âƒ£ **ê²°ë¡ **\\në” ê¶ê¸ˆí•˜ì‹  ë¶€ë¶„ì´ ìˆë‹¤ë©´ êµ¬ì²´ì ìœ¼ë¡œ ì§ˆë¬¸í•´ì£¼ì„¸ìš”.\\n\\nğŸ’¡ ì¶”ê°€ ì§ˆë¬¸ì„ í™˜ì˜í•©ë‹ˆë‹¤!`;
            }
        }

        function login() {
            const name = document.getElementById('loginName').value.trim();
            if (!name) return alert('ì´ë¦„ ì…ë ¥!');
            currentUser = name;
            let users = DB.get('users');
            if (!users.find(u => u.name === name)) {
                users.push({name, joined: new Date().toISOString()});
                DB.set('users', users);
            }
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            document.getElementById('userName').textContent = `ğŸ‘‹ ${name}ë‹˜`;
            if (name === 'ê°•ìˆ˜í˜„') document.getElementById('adminTab').classList.remove('hidden');
            render();
        }

        function logout() { location.reload(); }
        
        function switchTab(tab) {
            currentTab = tab;
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.content > div').forEach(s => s.classList.add('hidden'));
            document.getElementById(tab + 'Section').classList.remove('hidden');
            render();
        }

        function render() {
            if (currentTab === 'board') {
                const posts = DB.get('posts');
                document.getElementById('postsList').innerHTML = posts.length ? posts.map(p => `
                    <div class="card">
                        <h3>${p.title}</h3>
                        <p style="margin: 10px 0;">${p.content}</p>
                        <small>${p.author} | ${new Date(p.date).toLocaleString('ko-KR')}</small>
                    </div>
                `).join('') : '<div class="card">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
            }
            if (currentTab === 'todo') {
                const todos = DB.get('todos');
                document.getElementById('todoList').innerHTML = todos.length ? todos.map((t, i) => `
                    <div class="card" style="display: flex; justify-content: space-between;">
                        <span style="${t.done?'text-decoration:line-through;color:#999;':''}">${t.text}</span>
                        <div>
                            <button class="btn" onclick="toggleTodo(${i})" style="padding: 6px 12px; margin-right: 5px;">${t.done?'ì·¨ì†Œ':'ì™„ë£Œ'}</button>
                            <button class="btn" onclick="deleteTodo(${i})" style="padding: 6px 12px; background: #e74c3c;">ì‚­ì œ</button>
                        </div>
                    </div>
                `).join('') : '<div class="card">í• ì¼ ì—†ìŒ</div>';
            }
            if (currentTab === 'admin') {
                const users = DB.get('users'), posts = DB.get('posts');
                document.getElementById('stats').innerHTML = `<p>ğŸ‘¥ ì‚¬ìš©ì: ${users.length}ëª…</p><p>ğŸ“ ê²Œì‹œê¸€: ${posts.length}ê°œ</p>`;
            }
        }

        function openPostModal() { document.getElementById('postModal').classList.add('show'); }
        function closeModal(id) { document.getElementById(id).classList.remove('show'); }
        
        function submitPost() {
            const title = document.getElementById('postTitle').value.trim();
            const content = document.getElementById('postContent').value.trim();
            if (!title || !content) return alert('ì œëª©ê³¼ ë‚´ìš© ì…ë ¥!');
            const posts = DB.get('posts');
            posts.push({id: Date.now(), title, content, author: currentUser, date: new Date().toISOString()});
            DB.set('posts', posts);
            closeModal('postModal');
            document.getElementById('postTitle').value = '';
            document.getElementById('postContent').value = '';
            render();
        }

        function addTodoPrompt() {
            const text = prompt('í• ì¼ ì…ë ¥:');
            if (!text) return;
            const todos = DB.get('todos');
            todos.push({text, done: false});
            DB.set('todos', todos);
            render();
        }

        function toggleTodo(i) {
            const todos = DB.get('todos');
            todos[i].done = !todos[i].done;
            DB.set('todos', todos);
            render();
        }

        function deleteTodo(i) {
            const todos = DB.get('todos');
            todos.splice(i, 1);
            DB.set('todos', todos);
            render();
        }

        function toggleChat() { document.getElementById('chatWindow').classList.toggle('show'); }
        function toggleTheme() { document.body.classList.toggle('dark'); }

        function selectAI(ai) {
            selectedAI = ai;
            document.querySelectorAll('.ai-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('btn' + (ai === 'chatgpt' ? 'ChatGPT' : 'Gemini')).classList.add('active');
        }

        async function sendMsg() {
            const input = document.getElementById('chatInput');
            const msg = input.value.trim();
            if (!msg) return;
            
            const msgs = document.getElementById('messages');
            msgs.innerHTML += `<div class="chat-msg user">${msg}</div>`;
            input.value = '';
            
            // ìƒê° ì¤‘
            const thinking = document.createElement('div');
            thinking.className = 'thinking';
            thinking.innerHTML = '<span></span><span></span><span></span>';
            msgs.appendChild(thinking);
            msgs.scrollTop = msgs.scrollHeight;
            
            await new Promise(r => setTimeout(r, 1000));
            
            thinking.remove();
            const response = generateResponse(msg, selectedAI);
            msgs.innerHTML += `<div class="chat-msg bot ${selectedAI}">${response.replace(/\n/g, '<br>')}</div>`;
            msgs.scrollTop = msgs.scrollHeight;
        }

        window.addEventListener('load', () => {
            const saved = localStorage.getItem('currentUser');
            if (saved) {
                currentUser = saved;
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('mainApp').classList.remove('hidden');
                document.getElementById('userName').textContent = `ğŸ‘‹ ${saved}ë‹˜`;
                if (saved === 'ê°•ìˆ˜í˜„') document.getElementById('adminTab').classList.remove('hidden');
                render();
            }
        });
    </script>
</body>
</html>
